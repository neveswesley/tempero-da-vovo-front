<form [formGroup]="form" (ngSubmit)="submit()">
<div class="page-header">
  <button class="back-button" (click)="goBack()">&lsaquo;</button>
  <h1 class="title">Editar produto</h1>
</div>

<p class="subtitle">Atualize as informa√ß√µes do produto.</p>

  <!-- NOME -->
  <label>Nome do produto</label>
  <input type="text" formControlName="name" />

  <!-- DESCRI√á√ÉO -->
  <label>Descri√ß√£o</label>
  <textarea formControlName="description"></textarea>

  <!-- PRE√áO -->
  <label>Pre√ßo</label>
  <div class="price-container">
    <input
      type="text"
      formControlName="price"
      inputmode="decimal"
      (input)="onPriceInput($event)"
      (blur)="onPriceBlur()"
      (focus)="onPriceFocus($event)"
      placeholder="0.00"
    />
  </div>

  <!-- CATEGORIA (SEMPRE TRAVADA) -->
  <div class="category-locked-info">
    <label>Categoria</label>

    <div class="locked-category-display">
      <svg class="lock-icon" viewBox="0 0 24 24">
        <rect x="5" y="11" width="14" height="10" rx="2" />
        <path d="M8 11V7a4 4 0 0 1 8 0v4" />
      </svg>

      <span class="locked-category-name">
        {{ categoryName }}
      </span>
    </div>

    <small class="locked-message">
      A categoria do produto n√£o pode ser alterada
    </small>
  </div>

  <!-- IMAGEM -->
  <div class="image-upload-container">
    <label class="image-label">Imagem do produto</label>

    <div *ngIf="imagePreview" class="image-preview">
      <img [src]="imagePreview" class="preview-image" />

      <div class="image-info">
        <span class="file-name">{{ selectedFile?.name || 'Imagem atual' }}</span>

        <div class="image-actions">
          <label for="file-input" class="icon-button edit">
            ‚úèÔ∏è
          </label>

          <button
            type="button"
            class="icon-button delete"
            (click)="removeImage()"
          >
            üóëÔ∏è
          </button>
        </div>
      </div>
    </div>

    <label *ngIf="!imagePreview" for="file-input" class="upload-button">
      ‚ûï Trocar imagem
    </label>

    <input
      id="file-input"
      type="file"
      hidden
      accept="image/*"
      (change)="onFileSelected($event)"
    />
  </div>

  <!-- SUBMIT -->
  <button type="submit" [disabled]="form.invalid">
    Salvar altera√ß√µes
  </button>
</form>